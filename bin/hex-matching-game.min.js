/*! hex-matching-game 2015-03-31 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){var b=a("./states");window.game=new Phaser.Game(800,600,Phaser.AUTO),b(),game.state.start("boot")},{"./states":2}],2:[function(a,b){b.exports=function(){game.state.add("boot",a("./states/boot")),game.state.add("load",a("./states/load")),game.state.add("menu",a("./states/menu")),game.state.add("play",a("./states/play"))}},{"./states/boot":3,"./states/load":4,"./states/menu":5,"./states/play":6}],3:[function(a,b){b.exports={create:function(){},update:function(){game.state.start("play")}}},{}],4:[function(a,b){b.exports={create:function(){},update:function(){}}},{}],5:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4}],6:[function(a,b){function c(){var a=game.input.worldX-h.x,b=game.input.worldY-h.y,c=Math.floor(a/l),d=Math.floor(b/m),e=a%l,f=b%m;return 0>a||0>b?(n=null,!1):(c%2===0?(j/4-f*o>e&&(c--,d--),-j/4+f*o>e&&c--):f>=k/2?j/2-f*o>e&&c--:f*o>e?c--:d--,0>c||0>d||c>=p||d>=q?(n=null,!1):n={x:c,y:d})}function d(a,b){var c=[];return b-1>=0&&c.push({x:a,y:b-1}),q>b+1&&c.push({x:a,y:b+1}),a%2===1?(p-1>a&&(b>=0&&c.push({x:a+1,y:b}),q>b+1&&c.push({x:a+1,y:b+1})),a-1>=0&&(b>=0&&c.push({x:a-1,y:b}),q>b+1&&c.push({x:a-1,y:b+1}))):(p-1>a&&(b-1>=0&&c.push({x:a+1,y:b-1}),q>b&&c.push({x:a+1,y:b})),a-1>=0&&(b-1>=0&&c.push({x:a-1,y:b-1}),q>b&&c.push({x:a-1,y:b}))),c}function e(){for(var a=0;p>a;a++)for(var b=0;q>b;b++)i[a][b].tint=t}function f(a,b){i[a][b].tint=r}var g,h,i,j,k,l,m,n,o,p=6,q=6,i=[],r=11926848,s=13457021,t=16777215,u=[],v=!1,w=!1;b.exports={preload:function(){var a=game.load.image("hexagon","src/assets/images/hexagon.png");a.onFileComplete.add(function(){var a=game.add.sprite(0,0,arguments[1]);j=a.texture.width,k=a.texture.height,l=j/4*3,m=k,o=j/4/(k/2),a.destroy()})},create:function(){h=game.add.group(),game.stage.backgroundColor="#ffffff";for(var a=0;p>a;a++){i[a]=[];for(var b=0;q>b;b++){var d,e,f;a%2===0?(d=j*a-a*j*.25,e=k*b):(d=j*a*.75,e=k*b+.5*k),f=game.add.sprite(d,e,"hexagon"),h.add(f),i[a][b]=f}}h.y=(game.height-k*Math.ceil(q))/2,h.x=(game.width-Math.ceil(p/2)*j-Math.floor(p/2)*j/2)/2,q%2===0&&(h.y-=k/4),p%2===0&&(h.x-=j/8),g=game.input.addMoveCallback(c,h),game.input.onDown.add(function(){u.push(c())}),game.input.onUp.add(function(){w=!0})},update:function(){if(w&&(w=!1,v=!1,u=[]),v=u.length>0,v&&n){var a,b=!1;for(a=u.length-1;a>=0;a--){var c=u[a];if(c.x===n.x&&c.y===n.y){b=!0;break}}if(b)for(;u.length>a+1;)u.pop();else{var e=u[u.length-1],f=d(e.x,e.y);for(var g in f){var h=f[g];if(n.x===h.x&&n.y===h.y){b=!0;break}}b?u.push(n):(u=[],v=!1)}}},render:function(){if(e(),n&&f(n.x,n.y),v){var a,b=d(u[u.length-1].x,u[u.length-1].y);for(var c in b)a=b[c],i[a.x][a.y].tint=r;for(var g in u)a=u[g],i[a.x][a.y].tint=s}}}},{}]},{},[1,3,4,5,6]);